<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Show details for week: 1</title>
        <object th:include="fragments/header :: header " th:remove="tag" />
    </head>
    <body>
        <div class="container">
            <div th:replace="fragments/navbar :: navbar ">
                Navbar
            </div>

            <div>
                <h1 th:text="${week.course.name} + ' Week: ' + ${week.week}"></h1>
                <h2 th:text="${week.course.courseStart} + ' - ' + ${week.course.courseEnd}"></h2>
                <h2 th:text="${#lists.size(week.exercises) + ' exercises'}">6 exercises</h2>
                <h3 th:text="${week.description}"></h3>
                <p sec:authorize="hasAnyAuthority('ROLE_TEACHER', 'ROLE_ASSISTANT')"><a th:href="@{/courses/{id}/week/{week}/modifyWeek(id=${week.course.id}, week=${week.week})}">Modify week details</a></p>

                <table>
                    <thead>
                        <tr>
                            <!--<th>Exercise #</th>-->
                            <th th:text="#{message.exercisename}">Exercise name</th>
                            <th sec:authorize="hasAnyAuthority('ROLE_TEACHER', 'ROLE_ASSISTANT')">Modify</th>
                            <!-- <th>done</th> -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="exercise : ${week.exercises}">
                            <!--<td><a href="@{/exercise/{idE}" th:text=""></a></td>-->
                            <td th:text="${exercise.description}"></td>
                            <td>
                                <a sec:authorize="hasAnyAuthority('ROLE_TEACHER', 'ROLE_ASSISTANT')" th:href="@{/exercises/{idE}/edit(idE=${exercise.id})}" th:text="Modify"></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table sec:authorize="hasAnyAuthority('ROLE_TEACHER', 'ROLE_ASSISTANT')">
                    <thead>
                        <tr>
                            <th th:text="#{message.student}">Student</th>
                            <th th:text="#{message.exercisesdone}">Exercises done</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="student : ${week.course.students}">
                            <td><a th:href="@{/persons/{id}(id=${student.id})}" th:text="${student.studentNumber}">Item name</a> </td>
                            <td>6</td>
                        </tr>
                    </tbody>
                </table>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>present</th>
                            <th>with ex</th>
                            <th>ex done</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>total</th>
                            <td>2</td>
                            <td>2</td>
                            <td>12</td>
                        </tr>
                    </tbody>
                </table>
                <p sec:authorize="hasAuthority('ROLE_STUDENT')">
                    <h3 th:text="#{message.submitexercises}">Submit this week's exercises</h3>
                    <form action="#" th:action="@{/submissions/courses/{id}/week/{week}(id=${week.course.id}, week=${week.week})}" 
                          th:object="${submissionFormObject}" 
                          method="POST" 
                          id="subForm">
                        <div>
                            <label th:text="#{message.studentnumber}">Student number</label> 
                            <input type="text" th:field="*{studentNumber}" name="studentNumber"/>
                            <div th:if="${#fields.hasErrors('studentNumber')}" th:errors="*{studentNumber}"></div>
                        </div>

                        <div>
                            <label th:text="#{message.name}">Name</label> 
                            <input type="text" th:field="*{name}" name="name"/>
                            <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>               
                        </div>

                        <div>
                            <label th:text="#{message.madeexercisesnumb}">Number of made exercises</label> 
                            <input type="text" th:field="*{exerciseCount}" name="exerciseCount"/>
                            <div th:if="${#fields.hasErrors('exerciseCount')}" th:errors="*{exerciseCount}"></div> 
                        </div>

                        <div>
                            <label th:text="#{message.exercises}">Exercises</label> 
                            <textarea name="exerciseSubmission" form="subForm"></textarea>
                        </div>
                        <input type="submit" value="Send"/>
                    </form>

                </p>
            </div>
        </div>
    </body>
</html>
